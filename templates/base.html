<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}OCI Threat Dashboard{% endblock %}</title>

    <!-- Bootstrap -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- External CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/warroom.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">

    {% block head %}{% endblock %}
</head>

<body>
<div class="container-fluid">
    <div class="row">

        <!-- SIDEBAR UNIVERSAL -->
        <aside class="col-md-2 sidebar d-flex flex-column py-3">
            <div class="px-3 mb-4">
                <h4 class="mb-0"><span style="color:#22d3ee;">SOC</span> ILCS</h4>
                <small class="text-muted">OCI Log Parser Dashboard</small>
            </div>

            <nav class="nav flex-column px-2">
                <button class="nav-link active" data-view="view-exec">
                    <span class="nav-dot"></span> Executive Summary
                </button>
                <button class="nav-link" data-view="view-tenants">
                    <span class="nav-dot"></span> Host Identity
                </button>
                <button class="nav-link" data-view="view-kpi">
                    <span class="nav-dot"></span> OWASP Matrix
                </button>
            </nav>

            <div class="mt-auto px-3 pb-2 small text-muted">
                Source: OCI WAF Logs (critical tenants only).
            </div>
        </aside>

        <!-- PAGE CONTENT -->
        <main class="col-md-10 px-4">
            {% block content %}
            {% endblock %}
        </main>

    </div>
</div>

<!-- Modular JS -->
<script src="{{ url_for('static', filename='js/utils.js') }}"></script>
<script src="{{ url_for('static', filename='js/executive.js') }}"></script>
<script src="{{ url_for('static', filename='js/tenants.js') }}"></script>
<script src="{{ url_for('static', filename='js/kpi.js') }}"></script>
<script src="{{ url_for('static', filename='js/cyber_map.js') }}"></script>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

</body>
</html>
